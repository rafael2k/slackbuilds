Index: quicktime/ffmpeg/libavcodec/Makefile.am
===================================================================
--- quicktime/ffmpeg/libavcodec/Makefile.am	(revision 946)
+++ quicktime/ffmpeg/libavcodec/Makefile.am	(working copy)
@@ -1,12 +1,6 @@
-# i386 mmx specific stuff
-if USEMMX
-MM_DIR = i386
-MM_LIB = i386/libavcodeci386.la
-MM_FLAGS = -DHAVE_MMX
-if TARGET_BUILTIN_VECTOR
-MM_FLAGS += -DHAVE_BUILTIN_VECTOR
-endif
-endif
+# ppc specific stuff
+MM_DIR = ppc
+MM_LIB = ppc/libavcodecppc.la
 
 SUBDIRS = $(MM_DIR)
 
Index: quicktime/ffmpeg/avconfig.h
===================================================================
--- quicktime/ffmpeg/avconfig.h	(revision 946)
+++ quicktime/ffmpeg/avconfig.h	(working copy)
@@ -1,7 +1,9 @@
-#define FFMPEG_CONFIGURATION " "
-#define ARCH_X86 1
+/* Automatically generated by configure - do not modify */
+#define FFMPEG_CONFIGURATION " --disable-altivec "
+#define ARCH_POWERPC 1
+#define POWERPC_MODE_32BITS 1
 #define TUNECPU generic
-#define __CPU__ 586
+#define WORDS_BIGENDIAN 1
 #define HAVE_LOCALTIME_R 1
 #define HAVE_LRINTF 1
 #define HAVE_VHOOK 1
Index: configure.in
===================================================================
--- configure.in	(revision 946)
+++ configure.in	(working copy)
@@ -405,7 +405,7 @@
 					quicktime/encore50/Makefile \
 	quicktime/ffmpeg/Makefile \
 	quicktime/ffmpeg/libavcodec/Makefile \
-	quicktime/ffmpeg/libavcodec/i386/Makefile \
+	quicktime/ffmpeg/libavcodec/ppc/Makefile \
 					mpeg2enc/Makefile toolame-02l/Makefile \
 					guicast/Makefile cinelerra/Makefile \
 	cinelerra/data/Makefile \
--- quicktime/ffmpeg/libavcodec/ppc/Makefile.am.not	1970-01-01 00:00:00.000000000 +0000
+++ quicktime/ffmpeg/libavcodec/ppc/Makefile.am	2006-10-25 23:38:10.000000000 +0000
@@ -0,0 +1,15 @@
+noinst_LTLIBRARIES = libavcodecppc.la
+
+# special options needed due to scarcity of registers
+AM_CFLAGS = \
+	$(LARGEFILE_CFLAGS) \
+	$(CPU_CFLAGS) \
+	-O3 -prefer-non-pic \
+	-D_GNU_SOURCE -DHAVE_AV_CONFIG_H -I$(srcdir)/../..
+
+libavcodecppc_la_SOURCES = \
+	dsputil_ppc.c mpegvideo_ppc.c
+
+EXTRA_DIST = dsputil_ppc.c \
+	mpegvideo_ppc.c
+
